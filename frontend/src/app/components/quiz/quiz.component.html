<div *ngIf="!quizEnded && currentQuestion">
    <h2>Question {{ currentQuestionIndex + 1 }}</h2>
    <p>{{ currentQuestion.question }}</p>

    <div class="options">
        <button *ngFor="let option of currentQuestion.options; let i = index" (click)="chooseOption(i)" [disabled]="selectedAnswer !== null" [ngClass]="{ selected: selectedAnswer === i }">
      {{ option }}
    </button>
    </div>

    <p class="timer">â³ {{ timeLeft }}s</p>
</div>

<div *ngIf="quizEnded">
    <h2>ğŸ‰ Quiz Finished!</h2>
    <h3>Final Scores</h3>
    <ul>
        <li *ngFor="let p of finalScores">{{ p.username }} - {{ p.score }}</li>
    </ul>
</div>

<!-- âœ… Chat -->
<div class="chat-box">
    <h3>Chat</h3>
    <div class="messages">
        <div *ngFor="let msg of messages">
            <strong>{{ msg.username }}:</strong> {{ msg.message }}
        </div>
    </div>
    <input [(ngModel)]="newMessage" placeholder="Type message..." />
    <button (click)="sendMessage()">Send</button>
</div>